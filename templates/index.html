<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>AI Ecosystem Analyzer - Dashboard</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <div class="navbar">
      <div class="navbar-title">ðŸŒ± AI Powered Ecosystem Analyzer</div>
      <div class="nav-links">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('alerts_page') }}">Alerts</a>
        <a href="{{ url_for('reports_page') }}">Reports</a>
        <a href="{{ url_for('about') }}">About</a>
      </div>
    </div>

    <div class="container">
      <div class="main-panel">
        <h1 class="page-title">Dashboard Overview</h1>
        <p class="page-subtitle">
          Environmental statistics, alerts summary and AQI prediction panel.
        </p>

        <!-- Top stats -->
        <div class="card-grid">
          <div class="card">
            <div class="card-label">Average Temperature</div>
            <div class="card-value">{{ avg_temp }} Â°C</div>
          </div>
          <div class="card">
            <div class="card-label">Average Humidity</div>
            <div class="card-value">{{ avg_humidity }} %</div>
          </div>
          <div class="card">
            <div class="card-label">Average AQI</div>
            <div class="card-value">{{ avg_aqi }}</div>
          </div>
          <div class="card">
            <div class="card-label">Max AQI Recorded</div>
            <div class="card-value">{{ max_aqi }}</div>
          </div>
          <div class="card">
            <div class="card-label">Latest Temperature</div>
            <div class="card-value">{{ latest_temp }} Â°C</div>
          </div>
          <div class="card">
            <div class="card-label">Latest Humidity</div>
            <div class="card-value">{{ latest_humidity }} %</div>
          </div>
          <div class="card">
            <div class="card-label">Latest AQI</div>
            <div class="card-value">{{ latest_aqi }}</div>
          </div>
        </div>

        <!-- Alert summary -->
        <div class="section">
          <h2 class="section-title">Alert Summary</h2>
          <p><b>High Temperature Alerts:</b> {{ high_temp_count }}</p>
          <p><b>Low Humidity Alerts:</b> {{ low_hum_count }}</p>
          <p><b>High AQI Alerts:</b> {{ high_aqi_count }}</p>
          <p style="margin-top: 8px">
            <a href="{{ url_for('alerts_page') }}">âž¡ View Detailed Alerts</a> |
            <a href="{{ url_for('reports_page') }}">ðŸ“„ View Daily Reports</a>
          </p>
        </div>

        <!-- Chart -->
        <div class="section">
          <h2 class="section-title">AQI Trend Chart</h2>
          <img
            src="{{ url_for('static', filename='aqi_plot.png') }}"
            class="chart-img"
            alt="AQI Trend"
          />
        </div>

        <!-- Table -->
        <div class="section">
          <h2 class="section-title">Sample Environmental Data</h2>
          {{ table_html | safe }}
        </div>

        <!-- Prediction form -->
        <div class="section">
    <h2 class="section-title">Predict AQI</h2>

    <div class="prediction-card">
        <form action="{{ url_for('predict') }}" method="POST">
            <div class="form-grid">
                <div class="form-group">
                    <label>Temperature (Â°C)</label>
                    <input type="number" step="0.1" name="temperature" required>
                </div>
                <div class="form-group">
                    <label>Humidity (%)</label>
                    <input type="number" step="0.1" name="humidity" required>
                </div>
                <div class="form-group">
                    <label>PM2.5</label>
                    <input type="number" step="0.1" name="pm25" required>
                </div>
                <div class="form-group">
                    <label>PM10</label>
                    <input type="number" step="0.1" name="pm10" required>
                </div>
            </div>

            <div class="prediction-actions">
                <button type="submit" class="btn">Predict AQI</button>
            </div>
        </form>
    </div>
</div>

      </div>
    </div>
  </body>
</html>
