<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Daily Ecosystem Reports</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body data-theme="dark" class="page-fade">

<!-- NAVBAR -->
<div class="navbar">
    <div class="navbar-title">ðŸŒ± AI Powered Ecosystem Analyzer</div>
    <div class="nav-links">
        <a href="{{ url_for('home') }}">Dashboard</a>
        <a href="{{ url_for('alerts_page') }}">Alerts</a>
        <a href="{{ url_for('reports_page') }}">Reports</a>
        <a href="{{ url_for('about') }}">About</a>
    </div>
    <div class="nav-right">
        <button class="theme-toggle" id="toggleTheme">ðŸŒ™ Dark / â˜€ Light</button>
    </div>
</div>

<!-- MAIN CONTENT -->
<div class="container">

    <h1 class="page-title">Daily Ecosystem Reports</h1>
    <p class="page-subtitle">
        Daily summary across Air, Soil, Water, Forest & Wildlife indicators.
    </p>

    {% for report in reports %}
    <div class="card health-card">

        <h3 class="section-title">ðŸ“… {{ report.date }}</h3>

        <div class="card-grid">

            <div>
                <div class="card-label">Avg Temperature</div>
                <div class="card-value">{{ report.avg_temp }}Â°C</div>
            </div>

            <div>
                <div class="card-label">Avg Humidity</div>
                <div class="card-value">{{ report.avg_humidity }}%</div>
            </div>

            <div>
                <div class="card-label">Avg AQI</div>
                <div class="card-value">{{ report.avg_aqi }}</div>
            </div>

            <div>
                <div class="card-label">Max AQI</div>
                <div class="card-value">{{ report.max_aqi }}</div>
            </div>

            <div>
                <div class="card-label">Total Alerts</div>
                <div class="card-value">{{ report.alert_count }}</div>
            </div>

        </div>
    </div>
    {% endfor %}

</div>

<script>
    const body = document.body;
    const btn = document.getElementById("toggleTheme");

    const saved = localStorage.getItem("theme");
    if (saved) {
        body.setAttribute("data-theme", saved);
    } else {
        body.setAttribute("data-theme", "dark");
    }

    btn.addEventListener("click", () => {
        const current = body.getAttribute("data-theme") || "dark";
        const next = current === "dark" ? "light" : "dark";
        body.setAttribute("data-theme", next);
        localStorage.setItem("theme", next);
    });
</script>

</body>
</html>
